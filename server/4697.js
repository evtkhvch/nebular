"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=4697,exports.ids=[4697],exports.modules={24697:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{TimepickerModule:()=>TimepickerModule});var common=__webpack_require__(38583),timepicker_module=__webpack_require__(63052),input_module=__webpack_require__(71147),card_module=__webpack_require__(32937),router=__webpack_require__(10494),core=__webpack_require__(37716),card_component=__webpack_require__(74743),input_directive=__webpack_require__(12282),takeUntil=__webpack_require__(46782),filter=__webpack_require__(45435),map=__webpack_require__(88002),Subject=__webpack_require__(79765),fromEvent=__webpack_require__(22759),merge=__webpack_require__(66682),fesm2015_forms=__webpack_require__(3679),overlay_position=__webpack_require__(49106),overlay_trigger=__webpack_require__(84020),theme_options=__webpack_require__(56722),overlay_service=__webpack_require__(65603),calendar_time_model_service=__webpack_require__(45343),date_service=__webpack_require__(3841);class NbTimePickerDirective{constructor(document,positionBuilder,hostRef,triggerStrategyBuilder,overlay,cd,calendarTimeModelService,dateService,renderer,placeholder){this.document=document,this.positionBuilder=positionBuilder,this.hostRef=hostRef,this.triggerStrategyBuilder=triggerStrategyBuilder,this.overlay=overlay,this.cd=cd,this.calendarTimeModelService=calendarTimeModelService,this.dateService=dateService,this.renderer=renderer,this.placeholder=placeholder,this.overlayOffset=8,this.destroy$=new Subject.xQ,this.onChange=()=>{},this.onTouched=()=>{}}get timepicker(){return this._timePickerComponent}set timepicker(timePicker){this._timePickerComponent=timePicker}get input(){return this.hostRef.nativeElement}get isOpen(){return this.overlayRef&&this.overlayRef.hasAttached()}get isClosed(){return!this.isOpen}get inputValue(){return this.input.value}set inputValue(value){this.input.value=value}ngAfterViewInit(){this.subscribeOnInputChange(),this.placeholder||this.renderer.setProperty(this.input,"placeholder",this.timepicker.timeFormat),this.triggerStrategy=this.createTriggerStrategy(),this.subscribeOnTriggers(),this.subscribeToBlur()}show(){this.isClosed&&this.attachToOverlay()}hide(){this.isOpen&&(this.overlayRef.detach(),this.cd.markForCheck())}attachToOverlay(){this.overlayRef||(this.setupTimepicker(),this.initOverlay()),this.overlayRef.attach(this.timepicker.portal)}setupTimepicker(){if("native"===this.dateService.getId()&&(0,core.X6Q)()&&console.warn("Date.parse does not support parsing time with custom format. See details here https://akveo.github.io/nebular/docs/components/datepicker/overview#native-parse-issue"),this.timepicker.setHost(this.hostRef),this.inputValue){const val="native"===this.dateService.getId()?this.parseNativeDateString(this.inputValue):this.inputValue;this.timepicker.date=this.dateService.parse(val,this.timepicker.timeFormat)}else this.timepicker.date=this.calendarTimeModelService.getResetTime()}initOverlay(){this.positionStrategy=this.createPositionStrategy(),this.subscribeOnApplyClick(),this.createOverlay()}subscribeOnApplyClick(){this.timepicker.onSelectTime.pipe((0,takeUntil.R)(this.destroy$)).subscribe(value=>{const time=this.dateService.format(value.time,this.timepicker.timeFormat).toUpperCase();this.inputValue=time,this.timepicker.date=value.time,this.onChange(value.time),value.save&&(this.lastInputValue=time,this.hide())})}createOverlay(){const scrollStrategy=this.createScrollStrategy();this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,scrollStrategy})}subscribeOnTriggers(){this.triggerStrategy.show$.pipe((0,filter.h)(()=>this.isClosed)).subscribe(()=>this.show()),this.triggerStrategy.hide$.pipe((0,filter.h)(()=>this.isOpen)).subscribe(()=>{this.inputValue=this.lastInputValue||"",this.hide()})}createTriggerStrategy(){return this.triggerStrategyBuilder.trigger(overlay_trigger.qk.FOCUS).host(this.hostRef.nativeElement).container(()=>this.getContainer()).build()}createPositionStrategy(){return this.positionBuilder.connectedTo(this.hostRef).position(overlay_position.MG.BOTTOM).offset(this.overlayOffset).adjustment(overlay_position.SH.VERTICAL)}getContainer(){return this.overlayRef&&this.isOpen&&{location:{nativeElement:this.overlayRef.overlayElement}}}createScrollStrategy(){return this.overlay.scrollStrategies.block()}subscribeOnInputChange(){(0,fromEvent.R)(this.input,"input").pipe((0,map.U)(()=>this.inputValue),(0,takeUntil.R)(this.destroy$)).subscribe(value=>this.handleInputChange(value))}subscribeToBlur(){(0,merge.T)(this.timepicker.blur,(0,fromEvent.R)(this.input,"blur").pipe((0,filter.h)(()=>!this.isOpen&&this.document.activeElement!==this.input))).pipe((0,takeUntil.R)(this.destroy$)).subscribe(()=>this.onTouched())}handleInputChange(value){if("native"===this.dateService.getId()&&(value=this.parseNativeDateString(value)),this.dateService.isValidDateString(value,this.timepicker.timeFormat)){this.lastInputValue=value;const date=this.dateService.parse(value,this.timepicker.timeFormat);this.onChange(date),this.timepicker.date=date}}updateValue(value){if(value){this.timepicker.date=value;const timeString=this.dateService.format(value,this.timepicker.timeFormat).toUpperCase();this.inputValue=timeString,this.lastInputValue=timeString}}writeValue(value){this.updateValue(value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}parseNativeDateString(value){const date=this.dateService.today();return`${this.dateService.getYear(date)}-${this.calendarTimeModelService.paddToTwoSymbols(this.dateService.getMonth(date))}-${this.calendarTimeModelService.paddToTwoSymbols(this.dateService.getDate(date))} ${value}`}}__name(NbTimePickerDirective,"NbTimePickerDirective"),NbTimePickerDirective.\u0275fac=__name(function(t){return new(t||NbTimePickerDirective)(core.Y36(theme_options.qT),core.Y36(overlay_position.yp),core.Y36(core.SBq),core.Y36(overlay_trigger.o8),core.Y36(overlay_service.Pn),core.Y36(core.sBO),core.Y36(calendar_time_model_service.g),core.Y36(date_service.u),core.Y36(core.Qsj),core.$8M("placeholder"))},"NbTimePickerDirective_Factory"),NbTimePickerDirective.\u0275dir=core.lG2({type:NbTimePickerDirective,selectors:[["input","nbTimepicker",""]],inputs:{timepicker:["nbTimepicker","timepicker"],overlayOffset:"overlayOffset"},features:[core._Bn([{provide:fesm2015_forms.JU,useExisting:(0,core.Gpc)(()=>NbTimePickerDirective),multi:!0}])]});var timepicker_component=__webpack_require__(80819);class TimepickerShowcaseComponent{}__name(TimepickerShowcaseComponent,"TimepickerShowcaseComponent"),TimepickerShowcaseComponent.\u0275fac=__name(function(t){return new(t||TimepickerShowcaseComponent)},"TimepickerShowcaseComponent_Factory"),TimepickerShowcaseComponent.\u0275cmp=core.Xpm({type:TimepickerShowcaseComponent,selectors:[["nb-timepicker-showcase"]],decls:5,vars:1,consts:[["size","large"],["nbInput","","type","text",3,"nbTimepicker"],["timepicker",""]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-card",0),core.TgZ(1,"nb-card-body"),core._UZ(2,"input",1),core._UZ(3,"nb-timepicker",null,2),core.qZA(),core.qZA()),2&rf){const _r0=core.MAs(4);core.xp6(2),core.Q6J("nbTimepicker",_r0)}},"TimepickerShowcaseComponent_Template"),directives:[card_component.As,card_component.yK,input_directive.h,NbTimePickerDirective,timepicker_component.e],styles:["nb-card-body[_ngcontent-%COMP%]{text-align:center}input[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]:nth-of-type(2){margin-top:1rem}@media screen and (min-width: 31em){input[_ngcontent-%COMP%]{width:21.875rem}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(50% - .5rem)}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:last-of-type{margin-top:0;margin-left:1rem}}@media screen and (min-width: 50.25em){.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:21.875rem}}"],changeDetection:0});class TimepickerTwelveHoursFormatComponent{}__name(TimepickerTwelveHoursFormatComponent,"TimepickerTwelveHoursFormatComponent"),TimepickerTwelveHoursFormatComponent.\u0275fac=__name(function(t){return new(t||TimepickerTwelveHoursFormatComponent)},"TimepickerTwelveHoursFormatComponent_Factory"),TimepickerTwelveHoursFormatComponent.\u0275cmp=core.Xpm({type:TimepickerTwelveHoursFormatComponent,selectors:[["nb-timepicker-twelve-hours-format"]],decls:5,vars:1,consts:[["size","large"],["nbInput","","type","text",3,"nbTimepicker"],["twelveHoursFormat",""],["timepicker","nbTimepicker"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-card",0),core.TgZ(1,"nb-card-body"),core._UZ(2,"input",1),core._UZ(3,"nb-timepicker",2,3),core.qZA(),core.qZA()),2&rf){const _r0=core.MAs(4);core.xp6(2),core.Q6J("nbTimepicker",_r0)}},"TimepickerTwelveHoursFormatComponent_Template"),directives:[card_component.As,card_component.yK,input_directive.h,NbTimePickerDirective,timepicker_component.e],styles:["nb-card-body[_ngcontent-%COMP%]{text-align:center}input[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]:nth-of-type(2){margin-top:1rem}@media screen and (min-width: 31em){input[_ngcontent-%COMP%]{width:21.875rem}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(50% - .5rem)}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:last-of-type{margin-top:0;margin-left:1rem}}@media screen and (min-width: 50.25em){.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:21.875rem}}"],changeDetection:0});class TimepickerSingleColumnComponent{}__name(TimepickerSingleColumnComponent,"TimepickerSingleColumnComponent"),TimepickerSingleColumnComponent.\u0275fac=__name(function(t){return new(t||TimepickerSingleColumnComponent)},"TimepickerSingleColumnComponent_Factory"),TimepickerSingleColumnComponent.\u0275cmp=core.Xpm({type:TimepickerSingleColumnComponent,selectors:[["nb-timepicker-single-column"]],decls:5,vars:2,consts:[["size","large"],["nbInput","","type","text",3,"nbTimepicker"],["singleColumn","",3,"step"],["timepicker","nbTimepicker"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-card",0),core.TgZ(1,"nb-card-body"),core._UZ(2,"input",1),core._UZ(3,"nb-timepicker",2,3),core.qZA(),core.qZA()),2&rf){const _r0=core.MAs(4);core.xp6(2),core.Q6J("nbTimepicker",_r0),core.xp6(1),core.Q6J("step",10)}},"TimepickerSingleColumnComponent_Template"),directives:[card_component.As,card_component.yK,input_directive.h,NbTimePickerDirective,timepicker_component.e],styles:["nb-card-body[_ngcontent-%COMP%]{text-align:center}input[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]:nth-of-type(2){margin-top:1rem}@media screen and (min-width: 31em){input[_ngcontent-%COMP%]{width:21.875rem}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(50% - .5rem)}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:last-of-type{margin-top:0;margin-left:1rem}}@media screen and (min-width: 50.25em){.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:21.875rem}}"],changeDetection:0});class TimepickerWithSecondsComponent{}__name(TimepickerWithSecondsComponent,"TimepickerWithSecondsComponent"),TimepickerWithSecondsComponent.\u0275fac=__name(function(t){return new(t||TimepickerWithSecondsComponent)},"TimepickerWithSecondsComponent_Factory"),TimepickerWithSecondsComponent.\u0275cmp=core.Xpm({type:TimepickerWithSecondsComponent,selectors:[["nb-timepicker-with-seconds"]],decls:5,vars:1,consts:[["size","large"],["nbInput","","type","text",3,"nbTimepicker"],["withSeconds",""],["timepicker",""]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-card",0),core.TgZ(1,"nb-card-body"),core._UZ(2,"input",1),core._UZ(3,"nb-timepicker",2,3),core.qZA(),core.qZA()),2&rf){const _r0=core.MAs(4);core.xp6(2),core.Q6J("nbTimepicker",_r0)}},"TimepickerWithSecondsComponent_Template"),directives:[card_component.As,card_component.yK,input_directive.h,NbTimePickerDirective,timepicker_component.e],styles:["nb-card-body[_ngcontent-%COMP%]{text-align:center}input[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]:nth-of-type(2){margin-top:1rem}@media screen and (min-width: 31em){input[_ngcontent-%COMP%]{width:21.875rem}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(50% - .5rem)}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:last-of-type{margin-top:0;margin-left:1rem}}@media screen and (min-width: 50.25em){.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:21.875rem}}"],changeDetection:0});class TimepickerFormControlComponent{constructor(){this.formControl=new fesm2015_forms.NI(new Date)}}__name(TimepickerFormControlComponent,"TimepickerFormControlComponent"),TimepickerFormControlComponent.\u0275fac=__name(function(t){return new(t||TimepickerFormControlComponent)},"TimepickerFormControlComponent_Factory"),TimepickerFormControlComponent.\u0275cmp=core.Xpm({type:TimepickerFormControlComponent,selectors:[["nb-timepicker-form-control"]],decls:5,vars:2,consts:[["size","large"],["nbInput","","type","text",3,"formControl","nbTimepicker"],["timepicker",""]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-card",0),core.TgZ(1,"nb-card-body"),core._UZ(2,"input",1),core._UZ(3,"nb-timepicker",null,2),core.qZA(),core.qZA()),2&rf){const _r0=core.MAs(4);core.xp6(2),core.Q6J("formControl",ctx.formControl)("nbTimepicker",_r0)}},"TimepickerFormControlComponent_Template"),directives:[card_component.As,card_component.yK,input_directive.h,fesm2015_forms.Fj,NbTimePickerDirective,fesm2015_forms.JJ,fesm2015_forms.oH,timepicker_component.e],styles:["nb-card-body[_ngcontent-%COMP%]{text-align:center}input[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]:nth-of-type(2){margin-top:1rem}@media screen and (min-width: 31em){input[_ngcontent-%COMP%]{width:21.875rem}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(50% - .5rem)}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:last-of-type{margin-top:0;margin-left:1rem}}@media screen and (min-width: 50.25em){.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:21.875rem}}"],changeDetection:0});class TimepickerNgModelComponent{constructor(){this.date=new Date}}__name(TimepickerNgModelComponent,"TimepickerNgModelComponent"),TimepickerNgModelComponent.\u0275fac=__name(function(t){return new(t||TimepickerNgModelComponent)},"TimepickerNgModelComponent_Factory"),TimepickerNgModelComponent.\u0275cmp=core.Xpm({type:TimepickerNgModelComponent,selectors:[["nb-timepicker-ng-model"]],decls:5,vars:2,consts:[["size","large"],["nbInput","","type","text",3,"ngModel","nbTimepicker"],["timepicker",""]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-card",0),core.TgZ(1,"nb-card-body"),core._UZ(2,"input",1),core._UZ(3,"nb-timepicker",null,2),core.qZA(),core.qZA()),2&rf){const _r0=core.MAs(4);core.xp6(2),core.Q6J("ngModel",ctx.date)("nbTimepicker",_r0)}},"TimepickerNgModelComponent_Template"),directives:[card_component.As,card_component.yK,input_directive.h,fesm2015_forms.Fj,NbTimePickerDirective,fesm2015_forms.JJ,fesm2015_forms.On,timepicker_component.e],styles:["nb-card-body[_ngcontent-%COMP%]{text-align:center}input[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]:nth-of-type(2){margin-top:1rem}@media screen and (min-width: 31em){input[_ngcontent-%COMP%]{width:21.875rem}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(50% - .5rem)}.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:last-of-type{margin-top:0;margin-left:1rem}}@media screen and (min-width: 50.25em){.two-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:21.875rem}}"],changeDetection:0});const routes=[{path:"timepicker-showcase.component",component:TimepickerShowcaseComponent},{path:"timepicker-twelve-hours-format.component",component:TimepickerTwelveHoursFormatComponent},{path:"timepicker-single-column.component",component:TimepickerSingleColumnComponent},{path:"timepicker-with-seconds.component",component:TimepickerWithSecondsComponent},{path:"timepicker-form-control.component",component:TimepickerFormControlComponent},{path:"timepicker-ng-model.component",component:TimepickerNgModelComponent}];class TimepickerRoutingModule{}__name(TimepickerRoutingModule,"TimepickerRoutingModule"),TimepickerRoutingModule.\u0275fac=__name(function(t){return new(t||TimepickerRoutingModule)},"TimepickerRoutingModule_Factory"),TimepickerRoutingModule.\u0275mod=core.oAB({type:TimepickerRoutingModule}),TimepickerRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});var datepicker_directive=__webpack_require__(89484),native_date_service=__webpack_require__(65915),parse=__webpack_require__(89193),esm_format=__webpack_require__(58705),getWeek=__webpack_require__(12527);class NbDateFnsDateService extends native_date_service.D{constructor(locale,options){super(locale),this.options=options||{}}format(date,format){return date?(0,esm_format.Z)(date,format||this.options.format,this.options.formatOptions):""}parse(date,format){return(0,parse.Z)(date,format||this.options.format,new Date,this.options.parseOptions)}getId(){return"date-fns"}getWeekNumber(date){return(0,getWeek.Z)(date,this.options.getWeekOptions)}getDateFormat(){return"YYYY-MM-dd"}}__name(NbDateFnsDateService,"NbDateFnsDateService"),NbDateFnsDateService.\u0275fac=__name(function(t){return new(t||NbDateFnsDateService)(core.LFG(core.soG),core.LFG(datepicker_directive.Cu,8))},"NbDateFnsDateService_Factory"),NbDateFnsDateService.\u0275prov=core.Yz7({token:NbDateFnsDateService,factory:NbDateFnsDateService.\u0275fac});const dateFnsServiceProvider={provide:date_service.u,useClass:NbDateFnsDateService};class NbDateFnsDateModule{static forRoot(options){return{ngModule:NbDateFnsDateModule,providers:[dateFnsServiceProvider,{provide:datepicker_directive.Cu,useValue:options}]}}static forChild(options){return{ngModule:NbDateFnsDateModule,providers:[dateFnsServiceProvider,{provide:datepicker_directive.Cu,useValue:options}]}}}__name(NbDateFnsDateModule,"NbDateFnsDateModule"),NbDateFnsDateModule.\u0275fac=__name(function(t){return new(t||NbDateFnsDateModule)},"NbDateFnsDateModule_Factory"),NbDateFnsDateModule.\u0275mod=core.oAB({type:NbDateFnsDateModule}),NbDateFnsDateModule.\u0275inj=core.cJS({providers:[dateFnsServiceProvider]});class TimepickerModule{}__name(TimepickerModule,"TimepickerModule"),TimepickerModule.\u0275fac=__name(function(t){return new(t||TimepickerModule)},"TimepickerModule_Factory"),TimepickerModule.\u0275mod=core.oAB({type:TimepickerModule}),TimepickerModule.\u0275inj=core.cJS({imports:[[common.ez,TimepickerRoutingModule,timepicker_module.k.forRoot({twelveHoursFormat:!1}),NbDateFnsDateModule.forRoot({}),input_module.n,card_module.z,fesm2015_forms.u5,fesm2015_forms.UX]]})}};