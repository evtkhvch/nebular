"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=2660,exports.ids=[2660],exports.modules={5281:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>NbInfiniteListDirective});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(37716),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79765),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(20945),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(46797),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(25917),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(35758),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(45435),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43190),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(46782),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(15257),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(88002),_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24036),_list_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(59190),_services_scroll_service__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(94775),_services_ruler_service__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(62829);__name(class{},"NbScrollableContainerDimentions");class NbInfiniteListDirective{constructor(elementRef,scrollService,dimensionsService){this.elementRef=elementRef,this.scrollService=scrollService,this.dimensionsService=dimensionsService,this.destroy$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.xQ,this.windowScroll=!1,this.bottomThreshold=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe(!0),this.topThreshold=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe(!0)}get elementScroll(){return!this.windowScroll}set listenWindowScroll(value){this.windowScroll=(0,_helpers__WEBPACK_IMPORTED_MODULE_2__.eB)(value)}onElementScroll(){this.elementScroll&&this.checkPosition(this.elementRef.nativeElement)}ngAfterViewInit(){this.scrollService.onScroll().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.h)(()=>this.windowScroll),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.w)(()=>this.getContainerDimensions()),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.R)(this.destroy$)).subscribe(dimentions=>this.checkPosition(dimentions)),this.listItems.changes.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.w)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.F)(50).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.h)(()=>this.inSyncWithDom()),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.R)((0,rxjs__WEBPACK_IMPORTED_MODULE_8__.H)(1e3)))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.w)(()=>this.getContainerDimensions()),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.R)(this.destroy$)).subscribe(dimentions=>this.checkPosition(dimentions)),this.getContainerDimensions().subscribe(dimentions=>this.checkPosition(dimentions))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}checkPosition({scrollHeight,scrollTop,clientHeight}){const initialCheck=null==this.lastScrollPosition,manualCheck=this.lastScrollPosition===scrollTop,scrollUp=scrollTop<this.lastScrollPosition,scrollDown=scrollTop>this.lastScrollPosition;(initialCheck||manualCheck||scrollDown)&&scrollHeight-scrollTop-clientHeight<=this.threshold&&this.bottomThreshold.emit(),(initialCheck||scrollUp)&&scrollTop<=this.threshold&&this.topThreshold.emit(),this.lastScrollPosition=scrollTop}getContainerDimensions(){if(this.elementScroll){const{scrollTop,scrollHeight,clientHeight}=this.elementRef.nativeElement;return(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)({scrollTop,scrollHeight,clientHeight})}return(0,rxjs__WEBPACK_IMPORTED_MODULE_10__.D)([this.scrollService.getPosition(),this.dimensionsService.getDimensions()]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.U)(([scrollPosition,dimensions])=>({scrollTop:scrollPosition.y,scrollHeight:dimensions.scrollHeight,clientHeight:dimensions.clientHeight})))}inSyncWithDom(){return this.elementRef.nativeElement.children.length===this.listItems.length}}__name(NbInfiniteListDirective,"NbInfiniteListDirective"),NbInfiniteListDirective.\u0275fac=__name(function(t){return new(t||NbInfiniteListDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SBq),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_scroll_service__WEBPACK_IMPORTED_MODULE_12__.H),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_ruler_service__WEBPACK_IMPORTED_MODULE_13__.m))},"NbInfiniteListDirective_Factory"),NbInfiniteListDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:NbInfiniteListDirective,selectors:[["","nbInfiniteList",""]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Suo(dirIndex,_list_component__WEBPACK_IMPORTED_MODULE_14__.q,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_1__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_1__.CRH())&&(ctx.listItems=_t)}},"NbInfiniteListDirective_ContentQueries"),hostBindings:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("scroll",__name(function(){return ctx.onElementScroll()},"NbInfiniteListDirective_scroll_HostBindingHandler"))},"NbInfiniteListDirective_HostBindings"),inputs:{threshold:"threshold",listenWindowScroll:"listenWindowScroll"},outputs:{bottomThreshold:"bottomThreshold",topThreshold:"topThreshold"}})},3656:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>NbListPageTrackerDirective});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(37716),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46782),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(79765),_list_component__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(63906),__webpack_require__(59190));class NbListPageTrackerDirective{constructor(){this.destroy$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.xQ,this.startPage=1,this.pageChange=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.observer=new IntersectionObserver(entries=>this.checkForPageChange(entries),{threshold:.5})}ngAfterViewInit(){this.listItems&&this.listItems.length&&this.observeItems(),this.listItems.changes.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.R)(this.destroy$)).subscribe(()=>this.observeItems())}ngOnDestroy(){this.observer.disconnect&&this.observer.disconnect()}observeItems(){this.listItems.forEach(i=>this.observer.observe(i.nativeElement))}checkForPageChange(entries){const mostVisiblePage=this.findMostVisiblePage(entries);mostVisiblePage&&this.currentPage!==mostVisiblePage&&(this.currentPage=mostVisiblePage,this.pageChange.emit(this.currentPage))}findMostVisiblePage(entries){const intersectionRatioByPage=new Map;for(const entry of entries){if(entry.intersectionRatio<.5)continue;const elementIndex=this.elementIndex(entry.target);if(-1===elementIndex)continue;const page=this.startPage+Math.floor(elementIndex/this.pageSize);let ratio=entry.intersectionRatio;intersectionRatioByPage.has(page)&&(ratio+=intersectionRatioByPage.get(page)),intersectionRatioByPage.set(page,ratio)}let mostVisiblePage,maxRatio=0;return intersectionRatioByPage.forEach((ratio,page)=>{ratio>maxRatio&&(maxRatio=ratio,mostVisiblePage=page)}),mostVisiblePage}elementIndex(element){return element.parentElement&&element.parentElement.children?Array.from(element.parentElement.children).indexOf(element):-1}}__name(NbListPageTrackerDirective,"NbListPageTrackerDirective"),NbListPageTrackerDirective.\u0275fac=__name(function(t){return new(t||NbListPageTrackerDirective)},"NbListPageTrackerDirective_Factory"),NbListPageTrackerDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_2__.lG2({type:NbListPageTrackerDirective,selectors:[["","nbListPageTracker",""]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.Suo(dirIndex,_list_component__WEBPACK_IMPORTED_MODULE_4__.q,4,_angular_core__WEBPACK_IMPORTED_MODULE_2__.SBq),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_2__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_2__.CRH())&&(ctx.listItems=_t)}},"NbListPageTrackerDirective_ContentQueries"),inputs:{pageSize:"pageSize",startPage:"startPage"},outputs:{pageChange:"pageChange"}})},59190:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>NbListComponent,q:()=>NbListItemComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(37716);const _c0=[[["nb-list-item"]]];class NbListComponent{constructor(){this.role="list"}}__name(NbListComponent,"NbListComponent"),NbListComponent.\u0275fac=__name(function(t){return new(t||NbListComponent)},"NbListComponent_Factory"),NbListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:NbListComponent,selectors:[["nb-list"]],hostVars:1,hostBindings:__name(function(rf,ctx){2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("role",ctx.role)},"NbListComponent_HostBindings"),inputs:{role:"role"},ngContentSelectors:["nb-list-item"],decls:1,vars:0,template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.F$t(_c0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Hsn(0))},"NbListComponent_Template"),styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;overflow:auto}"]});class NbListItemComponent{constructor(){this.role="listitem"}}__name(NbListItemComponent,"NbListItemComponent"),NbListItemComponent.\u0275fac=__name(function(t){return new(t||NbListItemComponent)},"NbListItemComponent_Factory"),NbListItemComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:NbListItemComponent,selectors:[["nb-list-item"]],hostVars:1,hostBindings:__name(function(rf,ctx){2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("role",ctx.role)},"NbListItemComponent_HostBindings"),inputs:{role:"role"},ngContentSelectors:["*"],decls:1,vars:0,template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Hsn(0))},"NbListItemComponent_Template"),styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-shrink:0}"]})},10643:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>NbListModule});var _list_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59190),_list_page_tracker_directive__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3656),_infinite_list_directive__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5281),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(37716);_list_component__WEBPACK_IMPORTED_MODULE_0__.z,_list_component__WEBPACK_IMPORTED_MODULE_0__.q,_list_page_tracker_directive__WEBPACK_IMPORTED_MODULE_1__.B,_infinite_list_directive__WEBPACK_IMPORTED_MODULE_2__.s;class NbListModule{}__name(NbListModule,"NbListModule"),NbListModule.\u0275fac=__name(function(t){return new(t||NbListModule)},"NbListModule_Factory"),NbListModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oAB({type:NbListModule}),NbListModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_3__.cJS({})},97268:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>NbSpinnerDirective});var core=__webpack_require__(37716),status_service=__webpack_require__(49649),common=__webpack_require__(38583);function NbSpinnerComponent_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",2),core._uU(1),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Oqu(ctx_r0.message)}}__name(NbSpinnerComponent_span_1_Template,"NbSpinnerComponent_span_1_Template");class NbSpinnerComponent{constructor(statusService){this.statusService=statusService,this.message="Loading...",this.size="medium",this.status="basic"}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}}__name(NbSpinnerComponent,"NbSpinnerComponent"),NbSpinnerComponent.\u0275fac=__name(function(t){return new(t||NbSpinnerComponent)(core.Y36(status_service.Y))},"NbSpinnerComponent_Factory"),NbSpinnerComponent.\u0275cmp=core.Xpm({type:NbSpinnerComponent,selectors:[["nb-spinner"]],hostVars:26,hostBindings:__name(function(rf,ctx){2&rf&&(core.Tol(ctx.additionalClasses),core.ekj("size-tiny",ctx.tiny)("size-small",ctx.small)("size-medium",ctx.medium)("size-large",ctx.large)("size-giant",ctx.giant)("status-primary",ctx.primary)("status-info",ctx.info)("status-success",ctx.success)("status-warning",ctx.warning)("status-danger",ctx.danger)("status-basic",ctx.basic)("status-control",ctx.control))},"NbSpinnerComponent_HostBindings"),inputs:{message:"message",size:"size",status:"status"},decls:2,vars:1,consts:[[1,"spin-circle"],["class","message",4,"ngIf"],[1,"message"]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"span",0),core.YNc(1,NbSpinnerComponent_span_1_Template,2,1,"span",1)),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.message))},"NbSpinnerComponent_Template"),directives:[common.O5],styles:["[_nghost-%COMP%]{opacity:1;position:absolute;border-radius:inherit;top:0;right:0;left:0;bottom:0;overflow:hidden;z-index:9999;display:flex;justify-content:center;align-items:center;visibility:visible}[_nghost-%COMP%]   .spin-circle[_ngcontent-%COMP%]{animation:spin .8s infinite linear;border-radius:50%;border-style:solid;border-width:.125em;width:1em;height:1em}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{margin-left:.5rem}"]});class NbSpinnerDirective{constructor(directiveView,componentFactoryResolver,renderer,directiveElement){this.directiveView=directiveView,this.componentFactoryResolver=componentFactoryResolver,this.renderer=renderer,this.directiveElement=directiveElement,this.shouldShow=!1,this.spinnerStatus="basic",this.spinnerSize="medium",this.isSpinnerExist=!1}set nbSpinner(val){this.componentFactory?val?this.show():this.hide():this.shouldShow=val}ngOnInit(){this.componentFactory=this.componentFactoryResolver.resolveComponentFactory(NbSpinnerComponent),this.shouldShow&&this.show()}hide(){this.isSpinnerExist&&(this.directiveView.remove(),this.isSpinnerExist=!1)}show(){this.isSpinnerExist||(this.spinner=this.directiveView.createComponent(this.componentFactory),this.setInstanceInputs(this.spinner.instance),this.spinner.changeDetectorRef.detectChanges(),this.renderer.appendChild(this.directiveElement.nativeElement,this.spinner.location.nativeElement),this.isSpinnerExist=!0)}setInstanceInputs(instance){instance.message=this.spinnerMessage,void 0!==this.spinnerStatus&&(instance.status=this.spinnerStatus),void 0!==this.spinnerSize&&(instance.size=this.spinnerSize)}}__name(NbSpinnerDirective,"NbSpinnerDirective"),NbSpinnerDirective.\u0275fac=__name(function(t){return new(t||NbSpinnerDirective)(core.Y36(core.s_b),core.Y36(core._Vd),core.Y36(core.Qsj),core.Y36(core.SBq))},"NbSpinnerDirective_Factory"),NbSpinnerDirective.\u0275dir=core.lG2({type:NbSpinnerDirective,selectors:[["","nbSpinner",""]],hostVars:2,hostBindings:__name(function(rf,ctx){2&rf&&core.ekj("nb-spinner-container",ctx.isSpinnerExist)},"NbSpinnerDirective_HostBindings"),inputs:{spinnerMessage:["nbSpinnerMessage","spinnerMessage"],spinnerStatus:["nbSpinnerStatus","spinnerStatus"],spinnerSize:["nbSpinnerSize","spinnerSize"],nbSpinner:"nbSpinner"}})},52660:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{InfiniteListModule:()=>InfiniteListModule});var common=__webpack_require__(38583),list_module=__webpack_require__(10643),card_module=__webpack_require__(32937),spinner_module=__webpack_require__(80090),router=__webpack_require__(10494),core=__webpack_require__(37716),concat=__webpack_require__(58071),take=__webpack_require__(15257),scan=__webpack_require__(42145),takeLast=__webpack_require__(548),defaultIfEmpty=__webpack_require__(95242),pipe=__webpack_require__(34022);function reduce(accumulator,seed){return arguments.length>=2?__name(function(source){return(0,pipe.z)((0,scan.R)(accumulator,seed),(0,takeLast.h)(1),(0,defaultIfEmpty.d)(seed))(source)},"reduceOperatorFunctionWithSeed"):__name(function(source){return(0,pipe.z)((0,scan.R)((acc,value,index)=>accumulator(acc,value,index+1)),(0,takeLast.h)(1))(source)},"reduceOperatorFunction")}function toArrayReducer(arr,item,index){return 0===index?[item]:(arr.push(item),arr)}function toArray(){return reduce(toArrayReducer,[])}__name(reduce,"reduce"),__name(toArrayReducer,"toArrayReducer"),__name(toArray,"toArray");var theme_options=__webpack_require__(56722),list_component=__webpack_require__(59190),map=__webpack_require__(88002),delay=__webpack_require__(71289),http=__webpack_require__(91841);__name(class{},"NewsPost");class NewsService{constructor(http2){this.http=http2}load(page,pageSize){const startIndex=(page-1)%7*pageSize;return this.http.get("assets/data/news.json").pipe((0,map.U)(news=>news.splice(startIndex,pageSize)),(0,delay.g)(1500))}}__name(NewsService,"NewsService"),NewsService.\u0275fac=__name(function(t){return new(t||NewsService)(core.LFG(http.eN))},"NewsService_Factory"),NewsService.\u0275prov=core.Yz7({token:NewsService,factory:NewsService.\u0275fac});var scroll_service=__webpack_require__(94775),ruler_service=__webpack_require__(62829),card_component=__webpack_require__(74743),infinite_list_directive=__webpack_require__(5281),list_page_tracker_directive=__webpack_require__(3656);class NewsPostPlaceholderComponent{constructor(){this.label="Loading"}}__name(NewsPostPlaceholderComponent,"NewsPostPlaceholderComponent"),NewsPostPlaceholderComponent.\u0275fac=__name(function(t){return new(t||NewsPostPlaceholderComponent)},"NewsPostPlaceholderComponent_Factory"),NewsPostPlaceholderComponent.\u0275cmp=core.Xpm({type:NewsPostPlaceholderComponent,selectors:[["nb-news-post-placeholder"]],hostVars:1,hostBindings:__name(function(rf,ctx){2&rf&&core.uIk("aria-label",ctx.label)},"NewsPostPlaceholderComponent_HostBindings"),decls:3,vars:0,consts:[[1,"title-placeholder"],[1,"text-placeholder"],[1,"link-placeholder"]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"div",0),core._UZ(1,"div",1),core._UZ(2,"div",2))},"NewsPostPlaceholderComponent_Template"),styles:["[_nghost-%COMP%]{display:block;width:100%}.title-placeholder[_ngcontent-%COMP%]{height:1.8rem;margin-bottom:.5rem;width:80%}.text-placeholder[_ngcontent-%COMP%]{height:4rem;margin-bottom:1rem}.link-placeholder[_ngcontent-%COMP%]{height:1.25rem;width:5rem}.nb-theme-default   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#e4e9f2}.nb-theme-dark   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#101426}.nb-theme-cosmic   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#13132b}.nb-theme-corporate   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#e4e9f2}"]});class NewsPostComponent{}function InfiniteListPlaceholdersComponent_nb_list_item_2_Template(rf,ctx){1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post-placeholder"),core.qZA())}function InfiniteListPlaceholdersComponent_nb_list_item_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post",2),core.qZA()),2&rf){const newsPost_r4=ctx.$implicit;core.xp6(1),core.Q6J("post",newsPost_r4)}}function InfiniteListPlaceholdersComponent_nb_list_item_4_Template(rf,ctx){1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post-placeholder"),core.qZA())}__name(NewsPostComponent,"NewsPostComponent"),NewsPostComponent.\u0275fac=__name(function(t){return new(t||NewsPostComponent)},"NewsPostComponent_Factory"),NewsPostComponent.\u0275cmp=core.Xpm({type:NewsPostComponent,selectors:[["nb-news-post"]],inputs:{post:"post"},decls:7,vars:3,consts:[[1,"h5"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"article"),core.TgZ(1,"h2",0),core._uU(2),core.qZA(),core.TgZ(3,"p"),core._uU(4),core.qZA(),core.TgZ(5,"a"),core._uU(6,"Read full article"),core.qZA(),core.qZA()),2&rf&&(core.xp6(2),core.Oqu(ctx.post.title),core.xp6(2),core.Oqu(ctx.post.text),core.xp6(1),core.uIk("href",ctx.post.link,core.LSH))},"NewsPostComponent_Template"),encapsulation:2}),__name(InfiniteListPlaceholdersComponent_nb_list_item_2_Template,"InfiniteListPlaceholdersComponent_nb_list_item_2_Template"),__name(InfiniteListPlaceholdersComponent_nb_list_item_3_Template,"InfiniteListPlaceholdersComponent_nb_list_item_3_Template"),__name(InfiniteListPlaceholdersComponent_nb_list_item_4_Template,"InfiniteListPlaceholdersComponent_nb_list_item_4_Template");class InfiniteListPlaceholdersComponent{constructor(newsService,router2,route,scrollService,layoutService,platformId,window){this.newsService=newsService,this.router=router2,this.route=route,this.scrollService=scrollService,this.layoutService=layoutService,this.platformId=platformId,this.window=window,this.news=[],this.topPlaceholders=[],this.bottomPlaceholders=[],this.pageSize=10,this.loadingNext=!1,this.loadingPrevious=!1,(0,common.NF)(this.platformId)&&this.window.history.scrollRestoration&&(this.initialScrollRestoration=window.history.scrollRestoration,history.scrollRestoration="manual")}ngOnInit(){const{page}=this.route.snapshot.queryParams;this.startPage=page?Number.parseInt(page,10):100,this.pageToLoadNext=this.startPage}ngOnDestroy(){this.initialScrollRestoration&&(this.window.history.scrollRestoration=this.initialScrollRestoration)}updateUrl(page){this.router.navigate(["."],{queryParams:{page},replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge"})}loadPrevious(){this.loadingPrevious||1===this.startPage||(this.loadingPrevious=!0,this.topPlaceholders=new Array(this.pageSize),this.restoreScrollPosition(),this.startPage--,this.newsService.load(this.startPage,this.pageSize).subscribe(news=>{this.topPlaceholders=[],this.news.unshift(...news),this.loadingPrevious=!1},error=>this.startPage++))}loadNext(){this.loadingNext||(this.loadingNext=!0,this.bottomPlaceholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(news=>{this.bottomPlaceholders=[],this.news.push(...news),this.loadingNext=!1,this.pageToLoadNext++}))}restoreScrollPosition(){(0,concat.z)(this.layoutService.getDimensions(),this.scrollService.getPosition(),this.listItems.changes.pipe((0,take.q)(1)),this.layoutService.getDimensions(),this.scrollService.getPosition()).pipe(toArray()).subscribe(([oldDimensions,oldScrollPosition,,dimensions,scrollPosition])=>{const oldHeight=oldDimensions.scrollHeight,oldScrollTop=oldScrollPosition.y,currentHeight=dimensions.scrollHeight,currentScrollTop=scrollPosition.y,heightDiff=currentHeight-oldHeight;if(oldScrollTop+heightDiff===currentScrollTop)return;const newScrollTop=currentScrollTop+heightDiff;this.scrollService.scrollTo(null,newScrollTop)})}}function InfiniteListScrollModesComponent_nb_list_item_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post",4),core.qZA()),2&rf){const newsPost_r4=ctx.$implicit;core.xp6(1),core.Q6J("post",newsPost_r4)}}function InfiniteListScrollModesComponent_nb_list_item_5_Template(rf,ctx){1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post-placeholder"),core.qZA())}function InfiniteListScrollModesComponent_nb_list_item_10_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post",4),core.qZA()),2&rf){const newsPost_r6=ctx.$implicit;core.xp6(1),core.Q6J("post",newsPost_r6)}}function InfiniteListScrollModesComponent_nb_list_item_11_Template(rf,ctx){1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post-placeholder"),core.qZA())}__name(InfiniteListPlaceholdersComponent,"InfiniteListPlaceholdersComponent"),InfiniteListPlaceholdersComponent.\u0275fac=__name(function(t){return new(t||InfiniteListPlaceholdersComponent)(core.Y36(NewsService),core.Y36(router.F0),core.Y36(router.gz),core.Y36(scroll_service.H),core.Y36(ruler_service.m),core.Y36(core.Lbi),core.Y36(theme_options.Q3))},"InfiniteListPlaceholdersComponent_Factory"),InfiniteListPlaceholdersComponent.\u0275cmp=core.Xpm({type:InfiniteListPlaceholdersComponent,selectors:[["ng-component"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(list_component.q,5,core.SBq),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.listItems=_t)}},"InfiniteListPlaceholdersComponent_Query"),features:[core._Bn([NewsService])],decls:5,vars:6,consts:[["nbInfiniteList","","listenWindowScroll","","nbListPageTracker","",3,"threshold","pageSize","startPage","topThreshold","bottomThreshold","pageChange"],[4,"ngFor","ngForOf"],[3,"post"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"nb-card"),core.TgZ(1,"nb-list",0),core.NdJ("topThreshold",__name(function(){return ctx.loadPrevious()},"InfiniteListPlaceholdersComponent_Template_nb_list_topThreshold_1_listener"))("bottomThreshold",__name(function(){return ctx.loadNext()},"InfiniteListPlaceholdersComponent_Template_nb_list_bottomThreshold_1_listener"))("pageChange",__name(function($event){return ctx.updateUrl($event)},"InfiniteListPlaceholdersComponent_Template_nb_list_pageChange_1_listener")),core.YNc(2,InfiniteListPlaceholdersComponent_nb_list_item_2_Template,2,0,"nb-list-item",1),core.YNc(3,InfiniteListPlaceholdersComponent_nb_list_item_3_Template,2,1,"nb-list-item",1),core.YNc(4,InfiniteListPlaceholdersComponent_nb_list_item_4_Template,2,0,"nb-list-item",1),core.qZA(),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("threshold",500)("pageSize",ctx.pageSize)("startPage",ctx.startPage),core.xp6(1),core.Q6J("ngForOf",ctx.topPlaceholders),core.xp6(1),core.Q6J("ngForOf",ctx.news),core.xp6(1),core.Q6J("ngForOf",ctx.bottomPlaceholders))},"InfiniteListPlaceholdersComponent_Template"),directives:[card_component.As,list_component.z,infinite_list_directive.s,list_page_tracker_directive.B,common.sg,list_component.q,NewsPostPlaceholderComponent,NewsPostComponent],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),__name(InfiniteListScrollModesComponent_nb_list_item_4_Template,"InfiniteListScrollModesComponent_nb_list_item_4_Template"),__name(InfiniteListScrollModesComponent_nb_list_item_5_Template,"InfiniteListScrollModesComponent_nb_list_item_5_Template"),__name(InfiniteListScrollModesComponent_nb_list_item_10_Template,"InfiniteListScrollModesComponent_nb_list_item_10_Template"),__name(InfiniteListScrollModesComponent_nb_list_item_11_Template,"InfiniteListScrollModesComponent_nb_list_item_11_Template");class InfiniteListScrollModesComponent{constructor(newsService){this.newsService=newsService,this.firstCard={news:[],placeholders:[],loading:!1,pageToLoadNext:1},this.secondCard={news:[],placeholders:[],loading:!1,pageToLoadNext:1},this.pageSize=10}loadNext(cardData){cardData.loading||(cardData.loading=!0,cardData.placeholders=new Array(this.pageSize),this.newsService.load(cardData.pageToLoadNext,this.pageSize).subscribe(nextNews=>{cardData.placeholders=[],cardData.news.push(...nextNews),cardData.loading=!1,cardData.pageToLoadNext++}))}}function InfiniteListShowcaseComponent_nb_list_item_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post",2),core.qZA()),2&rf){const newsPost_r2=ctx.$implicit;core.xp6(1),core.Q6J("post",newsPost_r2)}}function InfiniteListShowcaseComponent_nb_list_item_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post-placeholder"),core.qZA())}__name(InfiniteListScrollModesComponent,"InfiniteListScrollModesComponent"),InfiniteListScrollModesComponent.\u0275fac=__name(function(t){return new(t||InfiniteListScrollModesComponent)(core.Y36(NewsService))},"InfiniteListScrollModesComponent_Factory"),InfiniteListScrollModesComponent.\u0275cmp=core.Xpm({type:InfiniteListScrollModesComponent,selectors:[["ng-component"]],features:[core._Bn([NewsService])],decls:12,vars:6,consts:[[1,"own-scroll"],["nbInfiniteList","",3,"threshold","bottomThreshold"],[4,"ngFor","ngForOf"],["nbInfiniteList","","listenWindowScroll","",3,"threshold","bottomThreshold"],[3,"post"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"nb-card",0),core.TgZ(1,"nb-card-header"),core._uU(2," Own scroll "),core.qZA(),core.TgZ(3,"nb-list",1),core.NdJ("bottomThreshold",__name(function(){return ctx.loadNext(ctx.firstCard)},"InfiniteListScrollModesComponent_Template_nb_list_bottomThreshold_3_listener")),core.YNc(4,InfiniteListScrollModesComponent_nb_list_item_4_Template,2,1,"nb-list-item",2),core.YNc(5,InfiniteListScrollModesComponent_nb_list_item_5_Template,2,0,"nb-list-item",2),core.qZA(),core.qZA(),core.TgZ(6,"nb-card"),core.TgZ(7,"nb-card-header"),core._uU(8," Window scroll "),core.qZA(),core.TgZ(9,"nb-list",3),core.NdJ("bottomThreshold",__name(function(){return ctx.loadNext(ctx.secondCard)},"InfiniteListScrollModesComponent_Template_nb_list_bottomThreshold_9_listener")),core.YNc(10,InfiniteListScrollModesComponent_nb_list_item_10_Template,2,1,"nb-list-item",2),core.YNc(11,InfiniteListScrollModesComponent_nb_list_item_11_Template,2,0,"nb-list-item",2),core.qZA(),core.qZA()),2&rf&&(core.xp6(3),core.Q6J("threshold",500),core.xp6(1),core.Q6J("ngForOf",ctx.firstCard.news),core.xp6(1),core.Q6J("ngForOf",ctx.firstCard.placeholders),core.xp6(4),core.Q6J("threshold",500),core.xp6(1),core.Q6J("ngForOf",ctx.secondCard.news),core.xp6(1),core.Q6J("ngForOf",ctx.secondCard.placeholders))},"InfiniteListScrollModesComponent_Template"),directives:[card_component.As,card_component.nd,list_component.z,infinite_list_directive.s,common.sg,list_component.q,NewsPostComponent,NewsPostPlaceholderComponent],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}","[_nghost-%COMP%]{display:flex}nb-card[_ngcontent-%COMP%]{flex:1 1 45%;margin:0 2.5%}nb-card.own-scroll[_ngcontent-%COMP%]{height:30rem}"]}),__name(InfiniteListShowcaseComponent_nb_list_item_2_Template,"InfiniteListShowcaseComponent_nb_list_item_2_Template"),__name(InfiniteListShowcaseComponent_nb_list_item_3_Template,"InfiniteListShowcaseComponent_nb_list_item_3_Template");class InfiniteListShowcaseComponent{constructor(newsService){this.newsService=newsService,this.news=[],this.placeholders=[],this.pageSize=10,this.pageToLoadNext=1,this.loading=!1}loadNext(){this.loading||(this.loading=!0,this.placeholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(news=>{this.placeholders=[],this.news.push(...news),this.loading=!1,this.pageToLoadNext++}))}}__name(InfiniteListShowcaseComponent,"InfiniteListShowcaseComponent"),InfiniteListShowcaseComponent.\u0275fac=__name(function(t){return new(t||InfiniteListShowcaseComponent)(core.Y36(NewsService))},"InfiniteListShowcaseComponent_Factory"),InfiniteListShowcaseComponent.\u0275cmp=core.Xpm({type:InfiniteListShowcaseComponent,selectors:[["ng-component"]],features:[core._Bn([NewsService])],decls:4,vars:3,consts:[["nbInfiniteList","","listenWindowScroll","",3,"threshold","bottomThreshold"],[4,"ngFor","ngForOf"],[3,"post"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"nb-card"),core.TgZ(1,"nb-list",0),core.NdJ("bottomThreshold",__name(function(){return ctx.loadNext()},"InfiniteListShowcaseComponent_Template_nb_list_bottomThreshold_1_listener")),core.YNc(2,InfiniteListShowcaseComponent_nb_list_item_2_Template,2,1,"nb-list-item",1),core.YNc(3,InfiniteListShowcaseComponent_nb_list_item_3_Template,2,0,"nb-list-item",1),core.qZA(),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("threshold",500),core.xp6(1),core.Q6J("ngForOf",ctx.news),core.xp6(1),core.Q6J("ngForOf",ctx.placeholders))},"InfiniteListShowcaseComponent_Template"),directives:[card_component.As,list_component.z,infinite_list_directive.s,common.sg,list_component.q,NewsPostComponent,NewsPostPlaceholderComponent],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]});var filter=__webpack_require__(45435),spinner_directive=__webpack_require__(97268);function InfiniteNewsListComponent_nb_list_item_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post",3),core.qZA()),2&rf){const newsPost_r2=ctx.$implicit;core.xp6(1),core.Q6J("post",newsPost_r2)}}function InfiniteNewsListComponent_nb_list_item_4_Template(rf,ctx){1&rf&&(core.TgZ(0,"nb-list-item"),core._UZ(1,"nb-news-post-placeholder"),core.qZA())}__name(InfiniteNewsListComponent_nb_list_item_3_Template,"InfiniteNewsListComponent_nb_list_item_3_Template"),__name(InfiniteNewsListComponent_nb_list_item_4_Template,"InfiniteNewsListComponent_nb_list_item_4_Template");class InfiniteNewsListComponent{constructor(newsService,router2,route,scrollService,platformId,window){this.newsService=newsService,this.router=router2,this.route=route,this.scrollService=scrollService,this.platformId=platformId,this.window=window,this.news=[],this.placeholders=[],this.pageSize=10,this.loadingNext=!1,this.loadingPrevious=!1,(0,common.NF)(this.platformId)&&this.window.history.scrollRestoration&&(this.initialScrollRestoration=window.history.scrollRestoration,history.scrollRestoration="manual")}ngOnInit(){const{page}=this.route.snapshot.queryParams;this.startPage=page?Number.parseInt(page,10):1,this.pageToLoadNext=this.startPage}ngOnDestroy(){this.initialScrollRestoration&&(this.window.history.scrollRestoration=this.initialScrollRestoration)}updateUrl(page){this.router.navigate(["."],{queryParams:{page},replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge"})}loadPrevious(){this.loadingPrevious||1===this.startPage||(this.loadingPrevious=!0,this.newsService.load(this.startPage-1,this.pageSize).subscribe(news=>{this.news.unshift(...news),this.loadingPrevious=!1,this.restoreScrollPosition(),this.startPage--}))}loadNext(){this.loadingNext||(this.loadingNext=!0,this.placeholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(news=>{this.placeholders=[],this.news.push(...news),this.loadingNext=!1,this.pageToLoadNext++}))}restoreScrollPosition(){const previousFirstItem=this.listItems.length>0?this.listItems.first.nativeElement:null;this.listItems.changes.pipe((0,map.U)(()=>this.listItems.first.nativeElement),(0,filter.h)(newFirstItem=>newFirstItem!==previousFirstItem),(0,take.q)(1)).subscribe(()=>{let heightOfAddedItems=0;for(const{nativeElement}of this.listItems.toArray()){if(nativeElement===previousFirstItem)break;heightOfAddedItems+=getElementHeight(this.window,nativeElement)}this.scrollService.scrollTo(null,heightOfAddedItems)})}}function getElementHeight(window,el){const style=window.getComputedStyle(el),marginTop=parseInt(style.getPropertyValue("margin-top"),10),marginBottom=parseInt(style.getPropertyValue("margin-bottom"),10);return el.offsetHeight+marginTop+marginBottom}__name(InfiniteNewsListComponent,"InfiniteNewsListComponent"),InfiniteNewsListComponent.\u0275fac=__name(function(t){return new(t||InfiniteNewsListComponent)(core.Y36(NewsService),core.Y36(router.F0),core.Y36(router.gz),core.Y36(scroll_service.H),core.Y36(core.Lbi),core.Y36(theme_options.Q3))},"InfiniteNewsListComponent_Factory"),InfiniteNewsListComponent.\u0275cmp=core.Xpm({type:InfiniteNewsListComponent,selectors:[["ng-component"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(list_component.q,5,core.SBq),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.listItems=_t)}},"InfiniteNewsListComponent_Query"),features:[core._Bn([NewsService])],decls:5,vars:6,consts:[[3,"nbSpinner"],["nbInfiniteList","","listenWindowScroll","","nbListPageTracker","",3,"threshold","pageSize","startPage","topThreshold","bottomThreshold","pageChange"],[4,"ngFor","ngForOf"],[3,"post"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"nb-card"),core._UZ(1,"div",0),core.TgZ(2,"nb-list",1),core.NdJ("topThreshold",__name(function(){return ctx.loadPrevious()},"InfiniteNewsListComponent_Template_nb_list_topThreshold_2_listener"))("bottomThreshold",__name(function(){return ctx.loadNext()},"InfiniteNewsListComponent_Template_nb_list_bottomThreshold_2_listener"))("pageChange",__name(function($event){return ctx.updateUrl($event)},"InfiniteNewsListComponent_Template_nb_list_pageChange_2_listener")),core.YNc(3,InfiniteNewsListComponent_nb_list_item_3_Template,2,1,"nb-list-item",2),core.YNc(4,InfiniteNewsListComponent_nb_list_item_4_Template,2,0,"nb-list-item",2),core.qZA(),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("nbSpinner",ctx.loadingPrevious),core.xp6(1),core.Q6J("threshold",500)("pageSize",ctx.pageSize)("startPage",ctx.startPage),core.xp6(1),core.Q6J("ngForOf",ctx.news),core.xp6(1),core.Q6J("ngForOf",ctx.placeholders))},"InfiniteNewsListComponent_Template"),directives:[card_component.As,spinner_directive.Q,list_component.z,infinite_list_directive.s,list_page_tracker_directive.B,common.sg,list_component.q,NewsPostComponent,NewsPostPlaceholderComponent],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),__name(getElementHeight,"getElementHeight");const routes=[{path:"infinite-list-placeholders.component",component:InfiniteListPlaceholdersComponent},{path:"infinite-list-scroll-modes.component",component:InfiniteListScrollModesComponent},{path:"infinite-list-showcase.component",component:InfiniteListShowcaseComponent},{path:"infinite-news-list.component",component:InfiniteNewsListComponent}];class InfiniteListRoutingModule{}__name(InfiniteListRoutingModule,"InfiniteListRoutingModule"),InfiniteListRoutingModule.\u0275fac=__name(function(t){return new(t||InfiniteListRoutingModule)},"InfiniteListRoutingModule_Factory"),InfiniteListRoutingModule.\u0275mod=core.oAB({type:InfiniteListRoutingModule}),InfiniteListRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});class InfiniteListModule{}__name(InfiniteListModule,"InfiniteListModule"),InfiniteListModule.\u0275fac=__name(function(t){return new(t||InfiniteListModule)},"InfiniteListModule_Factory"),InfiniteListModule.\u0275mod=core.oAB({type:InfiniteListModule}),InfiniteListModule.\u0275inj=core.cJS({imports:[[common.ez,list_module.C,card_module.z,spinner_module.u,InfiniteListRoutingModule]]})}};