"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=8088,exports.ids=[8088],exports.modules={16784:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>NbPositionedContainerComponent,C:()=>NbOverlayContainerComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(37716),_overlay_position__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49106),_mapping__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(97805),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(38583);function NbOverlayContainerComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(ctx_r0.content)}}function NbOverlayContainerComponent_ng_template_1_Template(rf,ctx){}__name(NbOverlayContainerComponent_div_0_Template,"NbOverlayContainerComponent_div_0_Template"),__name(NbOverlayContainerComponent_ng_template_1_Template,"NbOverlayContainerComponent_ng_template_1_Template");class NbPositionedContainerComponent{get top(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.TOP}get topStart(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.TOP_START}get topEnd(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.TOP_END}get right(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.RIGHT||this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.END}get endTop(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.END_TOP}get endBottom(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.END_BOTTOM}get bottom(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.BOTTOM}get bottomStart(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.BOTTOM_START}get bottomEnd(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.BOTTOM_END}get left(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.LEFT||this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.START}get startTop(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.START_TOP}get startBottom(){return this.position===_overlay_position__WEBPACK_IMPORTED_MODULE_1__.MG.START_BOTTOM}}__name(NbPositionedContainerComponent,"NbPositionedContainerComponent"),NbPositionedContainerComponent.\u0275fac=__name(function(t){return new(t||NbPositionedContainerComponent)},"NbPositionedContainerComponent_Factory"),NbPositionedContainerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:NbPositionedContainerComponent,selectors:[["ng-component"]],hostVars:24,hostBindings:__name(function(rf,ctx){2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("nb-overlay-top",ctx.top)("nb-overlay-top-start",ctx.topStart)("nb-overlay-top-end",ctx.topEnd)("nb-overlay-right",ctx.right)("nb-overlay-end-top",ctx.endTop)("nb-overlay-end-bottom",ctx.endBottom)("nb-overlay-bottom",ctx.bottom)("nb-overlay-bottom-start",ctx.bottomStart)("nb-overlay-bottom-end",ctx.bottomEnd)("nb-overlay-left",ctx.left)("nb-overlay-start-top",ctx.startTop)("nb-overlay-start-bottom",ctx.startBottom)},"NbPositionedContainerComponent_HostBindings"),inputs:{position:"position"},decls:0,vars:0,template:__name(function(rf,ctx){},"NbPositionedContainerComponent_Template"),encapsulation:2});class NbOverlayContainerComponent{constructor(vcr,injector,changeDetectorRef){this.vcr=vcr,this.injector=injector,this.changeDetectorRef=changeDetectorRef,this.isAttached=!1}get isStringContent(){return!!this.content}attachComponentPortal(portal,context){portal.injector=this.createChildInjector(portal.componentFactoryResolver);const componentRef=this.portalOutlet.attachComponentPortal(portal);return context&&Object.assign(componentRef.instance,context),componentRef.changeDetectorRef.markForCheck(),componentRef.changeDetectorRef.detectChanges(),this.isAttached=!0,componentRef}attachTemplatePortal(portal){const templateRef=this.portalOutlet.attachTemplatePortal(portal);return templateRef.detectChanges(),this.isAttached=!0,templateRef}attachStringContent(content){this.content=content,this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges(),this.isAttached=!0}detach(){this.portalOutlet.hasAttached()&&this.portalOutlet.detach(),this.attachStringContent(null),this.isAttached=!1}createChildInjector(cfr){return new _mapping__WEBPACK_IMPORTED_MODULE_2__.F$(this.injector,new WeakMap([[_angular_core__WEBPACK_IMPORTED_MODULE_0__._Vd,cfr]]))}}__name(NbOverlayContainerComponent,"NbOverlayContainerComponent"),NbOverlayContainerComponent.\u0275fac=__name(function(t){return new(t||NbOverlayContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.s_b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.zs3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.sBO))},"NbOverlayContainerComponent_Factory"),NbOverlayContainerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:NbOverlayContainerComponent,selectors:[["nb-overlay-container"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_mapping__WEBPACK_IMPORTED_MODULE_2__.GF,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.portalOutlet=_t.first)}},"NbOverlayContainerComponent_Query"),decls:2,vars:1,consts:[["class","primitive-overlay",4,"ngIf"],["nbPortalOutlet",""],[1,"primitive-overlay"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(0,NbOverlayContainerComponent_div_0_Template,2,1,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,NbOverlayContainerComponent_ng_template_1_Template,0,0,"ng-template",1)),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.isStringContent)},"NbOverlayContainerComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.O5,_mapping__WEBPACK_IMPORTED_MODULE_2__.GF],encapsulation:2})},68088:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WindowModule:()=>WindowModule});var NbWindowState,NbWindowState2,common=__webpack_require__(38583),overlay_module=__webpack_require__(96136),card_module=__webpack_require__(32937),icon_module=__webpack_require__(42687),button_module=__webpack_require__(60534),core=__webpack_require__(37716),filter=__webpack_require__(45435),mapping=__webpack_require__(97805);(NbWindowState2=NbWindowState||(NbWindowState={})).MINIMIZED="minimized",NbWindowState2.MAXIMIZED="maximized",NbWindowState2.FULL_SCREEN="full-screen";const NB_WINDOW_DEFAULT_BUTTONS_CONFIG={minimize:!0,maximize:!0,fullScreen:!0};class NbWindowConfig{constructor(...configs){this.title="",this.titleTemplateContext={},this.initialState=NbWindowState.FULL_SCREEN,this.hasBackdrop=!0,this.closeOnBackdropClick=!0,this.closeOnEsc=!0,this.windowClass="",this.context={},this.viewContainerRef=null,this.buttons={},Object.assign(this,...configs),this.applyDefaultButtonConfig()}applyDefaultButtonConfig(){Object.assign(this,{buttons:{...NB_WINDOW_DEFAULT_BUTTONS_CONFIG,...this.buttons}})}}__name(NbWindowConfig,"NbWindowConfig");const NB_WINDOW_CONTENT=new core.OlP("Nebular Window Content"),NB_WINDOW_CONFIG=new core.OlP("Nebular Window Config"),NB_WINDOW_CONTEXT=new core.OlP("Nebular Window Context");var ReplaySubject=__webpack_require__(88229),Subject=__webpack_require__(79765);class NbWindowRef{constructor(config){this.config=config,this.stateChange$=new ReplaySubject.t(1),this._closed=!1,this.closed$=new Subject.xQ,this.state=config.initialState}get state(){return this.stateValue}set state(newState){newState&&this.stateValue!==newState&&(this.prevStateValue=this.state,this.stateValue=newState,this.stateChange$.next({oldState:this.prevStateValue,newState}))}get stateChange(){return this.stateChange$.asObservable()}get onClose(){return this.closed$.asObservable()}minimize(){this.state=NbWindowState.MINIMIZED}maximize(){this.state=NbWindowState.MAXIMIZED}fullScreen(){this.state=NbWindowState.FULL_SCREEN}toPreviousState(){this.state=this.prevStateValue}close(){this._closed||(this._closed=!0,this.componentRef.destroy(),this.componentInstance=null,this.stateChange$.complete(),this.closed$.next(),this.closed$.complete())}}__name(NbWindowRef,"NbWindowRef");const _c0=["viewContainerRef"];class NbWindowsContainerComponent{}__name(NbWindowsContainerComponent,"NbWindowsContainerComponent"),NbWindowsContainerComponent.\u0275fac=__name(function(t){return new(t||NbWindowsContainerComponent)},"NbWindowsContainerComponent_Factory"),NbWindowsContainerComponent.\u0275cmp=core.Xpm({type:NbWindowsContainerComponent,selectors:[["nb-windows-container"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,7,core.s_b),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.viewContainerRef=_t.first)}},"NbWindowsContainerComponent_Query"),decls:2,vars:0,consts:[["viewContainerRef",""]],template:__name(function(rf,ctx){1&rf&&core.GkF(0,null,0)},"NbWindowsContainerComponent_Template"),styles:["[_nghost-%COMP%]{display:flex;align-items:flex-end;overflow-x:auto}[_nghost-%COMP%]     nb-window:not(.full-screen){margin:0 2rem}"]});var overlay_container=__webpack_require__(16784),focus_trap=__webpack_require__(9787),card_component=__webpack_require__(74743),button_component=__webpack_require__(37819),icon_component=__webpack_require__(72037);function NbWindowComponent_div_2_ng_container_1_Template(rf,ctx){1&rf&&core.GkF(0)}__name(NbWindowComponent_div_2_ng_container_1_Template,"NbWindowComponent_div_2_ng_container_1_Template");const window_component_c0=__name(function(a0){return{$implicit:a0}},"window_component_c0");function NbWindowComponent_div_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",6),core.YNc(1,NbWindowComponent_div_2_ng_container_1_Template,1,0,"ng-container",7),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngTemplateOutlet",ctx_r0.config.titleTemplate)("ngTemplateOutletContext",core.VKq(2,window_component_c0,ctx_r0.config.titleTemplateContext))}}function NbWindowComponent_ng_template_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",8),core._uU(1),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Oqu(ctx_r2.config.title)}}function NbWindowComponent_ng_container_6_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.ynx(0),core.TgZ(1,"button",4),core.NdJ("click",__name(function(){return core.CHM(_r9),core.oxw().minimize()},"NbWindowComponent_ng_container_6_Template_button_click_1_listener")),core._UZ(2,"nb-icon",9),core.qZA(),core.BQk()}}function NbWindowComponent_ng_container_7_button_1_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"button",4),core.NdJ("click",__name(function(){return core.CHM(_r12),core.oxw(2).maximize()},"NbWindowComponent_ng_container_7_button_1_Template_button_click_0_listener")),core._UZ(1,"nb-icon",11),core.qZA()}}function NbWindowComponent_ng_container_7_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,NbWindowComponent_ng_container_7_button_1_Template,2,0,"button",10),core.BQk()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r4.isFullScreen)}}function NbWindowComponent_ng_container_8_button_1_Template(rf,ctx){if(1&rf){const _r15=core.EpF();core.TgZ(0,"button",4),core.NdJ("click",__name(function(){return core.CHM(_r15),core.oxw(2).maximizeOrFullScreen()},"NbWindowComponent_ng_container_8_button_1_Template_button_click_0_listener")),core._UZ(1,"nb-icon",12),core.qZA()}}function NbWindowComponent_ng_container_8_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,NbWindowComponent_ng_container_8_button_1_Template,2,0,"button",10),core.BQk()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r5.minimized||ctx_r5.maximized)}}function NbWindowComponent_nb_card_body_11_Template(rf,ctx){1&rf&&(core.TgZ(0,"nb-card-body"),core._UZ(1,"nb-overlay-container"),core.qZA())}__name(NbWindowComponent_div_2_Template,"NbWindowComponent_div_2_Template"),__name(NbWindowComponent_ng_template_3_Template,"NbWindowComponent_ng_template_3_Template"),__name(NbWindowComponent_ng_container_6_Template,"NbWindowComponent_ng_container_6_Template"),__name(NbWindowComponent_ng_container_7_button_1_Template,"NbWindowComponent_ng_container_7_button_1_Template"),__name(NbWindowComponent_ng_container_7_Template,"NbWindowComponent_ng_container_7_Template"),__name(NbWindowComponent_ng_container_8_button_1_Template,"NbWindowComponent_ng_container_8_button_1_Template"),__name(NbWindowComponent_ng_container_8_Template,"NbWindowComponent_ng_container_8_Template"),__name(NbWindowComponent_nb_card_body_11_Template,"NbWindowComponent_nb_card_body_11_Template");class NbWindowComponent{constructor(content,context,windowRef,config,focusTrapFactory,elementRef,renderer){this.content=content,this.context=context,this.windowRef=windowRef,this.config=config,this.focusTrapFactory=focusTrapFactory,this.elementRef=elementRef,this.renderer=renderer}get isFullScreen(){return this.windowRef.state===NbWindowState.FULL_SCREEN}get maximized(){return this.windowRef.state===NbWindowState.MAXIMIZED}get minimized(){return this.windowRef.state===NbWindowState.MINIMIZED}get showMinimize(){return this.config.buttons.minimize}get showMaximize(){return this.config.buttons.maximize}get showFullScreen(){return this.config.buttons.fullScreen}ngOnInit(){this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement),this.focusTrap.blurPreviouslyFocusedElement(),this.focusTrap.focusInitialElement(),this.config.windowClass&&this.renderer.addClass(this.elementRef.nativeElement,this.config.windowClass)}ngAfterViewChecked(){!this.overlayContainer||this.overlayContainer.isAttached||(this.content instanceof core.Rgc?this.attachTemplate():this.attachComponent())}ngOnDestroy(){this.focusTrap&&this.focusTrap.restoreFocus(),this.close()}minimize(){this.windowRef.state===NbWindowState.MINIMIZED?this.windowRef.toPreviousState():this.windowRef.minimize()}maximize(){this.windowRef.maximize()}fullScreen(){this.windowRef.fullScreen()}maximizeOrFullScreen(){this.windowRef.state===NbWindowState.MINIMIZED&&this.showMaximize?this.maximize():this.fullScreen()}close(){this.windowRef.close()}attachTemplate(){this.overlayContainer.attachTemplatePortal(new mapping.U2(this.content,null,this.context))}attachComponent(){const portal=new mapping.Qi(this.content,null,null,this.cfr),ref=this.overlayContainer.attachComponentPortal(portal,this.context);this.windowRef.componentInstance=ref.instance,ref.changeDetectorRef.detectChanges()}}__name(NbWindowComponent,"NbWindowComponent"),NbWindowComponent.\u0275fac=__name(function(t){return new(t||NbWindowComponent)(core.Y36(NB_WINDOW_CONTENT),core.Y36(NB_WINDOW_CONTEXT),core.Y36(NbWindowRef),core.Y36(NbWindowConfig),core.Y36(focus_trap.E),core.Y36(core.SBq),core.Y36(core.Qsj))},"NbWindowComponent_Factory"),NbWindowComponent.\u0275cmp=core.Xpm({type:NbWindowComponent,selectors:[["nb-window"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(overlay_container.C,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.overlayContainer=_t.first)}},"NbWindowComponent_Query"),hostVars:6,hostBindings:__name(function(rf,ctx){2&rf&&core.ekj("full-screen",ctx.isFullScreen)("maximized",ctx.maximized)("minimized",ctx.minimized)},"NbWindowComponent_HostBindings"),inputs:{cfr:"cfr"},decls:12,vars:6,consts:[["cdkFocusInitial","","tabindex","-1",4,"ngIf","ngIfElse"],["textTitleTemplate",""],[1,"buttons"],[4,"ngIf"],["nbButton","","ghost","",3,"click"],["icon","close-outline","pack","nebular-essentials"],["cdkFocusInitial","","tabindex","-1"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkFocusInitial","","tabindex","-1",1,"title"],["icon","minus-outline","pack","nebular-essentials"],["nbButton","","ghost","",3,"click",4,"ngIf"],["icon","collapse-outline","pack","nebular-essentials"],["icon","expand-outline","pack","nebular-essentials"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"nb-card"),core.TgZ(1,"nb-card-header"),core.YNc(2,NbWindowComponent_div_2_Template,2,4,"div",0),core.YNc(3,NbWindowComponent_ng_template_3_Template,2,1,"ng-template",null,1,core.W1O),core.TgZ(5,"div",2),core.YNc(6,NbWindowComponent_ng_container_6_Template,3,0,"ng-container",3),core.YNc(7,NbWindowComponent_ng_container_7_Template,2,1,"ng-container",3),core.YNc(8,NbWindowComponent_ng_container_8_Template,2,1,"ng-container",3),core.TgZ(9,"button",4),core.NdJ("click",__name(function(){return ctx.close()},"NbWindowComponent_Template_button_click_9_listener")),core._UZ(10,"nb-icon",5),core.qZA(),core.qZA(),core.qZA(),core.YNc(11,NbWindowComponent_nb_card_body_11_Template,2,0,"nb-card-body",3),core.qZA()),2&rf){const _r1=core.MAs(4);core.xp6(2),core.Q6J("ngIf",ctx.config.titleTemplate)("ngIfElse",_r1),core.xp6(4),core.Q6J("ngIf",ctx.showMinimize),core.xp6(1),core.Q6J("ngIf",ctx.showMaximize),core.xp6(1),core.Q6J("ngIf",ctx.showFullScreen),core.xp6(3),core.Q6J("ngIf",ctx.maximized||ctx.isFullScreen)}},"NbWindowComponent_Template"),directives:[card_component.As,card_component.nd,common.O5,button_component.D,icon_component.f,common.tP,card_component.yK,overlay_container.C],styles:["[_nghost-%COMP%]{flex:1 0 auto;min-width:20rem}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;overflow:hidden}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 0 auto;margin-right:3rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]{width:9.5rem;display:flex;justify-content:flex-end}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]   [nbButton][_ngcontent-%COMP%]{flex:0 0 3rem}.full-screen[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}.maximized[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.minimized[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0;height:auto}.minimized[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:none}"]});var theme_options=__webpack_require__(56722),overlay_service=__webpack_require__(65603),block_scroll_strategy_adapter=__webpack_require__(35027);class NbWindowService{constructor(componentFactoryResolver,overlayService,overlayPositionBuilder,blockScrollStrategy,defaultWindowsConfig,cfr,document){this.componentFactoryResolver=componentFactoryResolver,this.overlayService=overlayService,this.overlayPositionBuilder=overlayPositionBuilder,this.blockScrollStrategy=blockScrollStrategy,this.defaultWindowsConfig=defaultWindowsConfig,this.cfr=cfr,this.openWindows=[],this.document=document}open(windowContent,windowConfig={}){this.shouldCreateWindowsContainer()&&this.createWindowsContainer();const config=new NbWindowConfig(this.defaultWindowsConfig,windowConfig),windowRef=new NbWindowRef(config);return windowRef.componentRef=this.appendWindow(windowContent,config,windowRef),this.openWindows.push(windowRef),this.subscribeToEvents(windowRef),windowRef}shouldCreateWindowsContainer(){if(this.windowsContainerViewRef){const containerEl=this.windowsContainerViewRef.element.nativeElement;return!this.document.body.contains(containerEl)}return!0}createWindowsContainer(){this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=this.overlayService.create({scrollStrategy:this.overlayService.scrollStrategies.noop(),positionStrategy:this.overlayPositionBuilder.global().bottom().right(),hasBackdrop:!0});const windowsContainerPortal=new mapping.Qi(NbWindowsContainerComponent,null,null,this.cfr),overlayRef=this.overlayRef.attach(windowsContainerPortal);this.windowsContainerViewRef=overlayRef.instance.viewContainerRef}appendWindow(content,config,windowRef){const context=content instanceof core.Rgc?{$implicit:config.context,windowRef}:config.context,providers=[{provide:NB_WINDOW_CONTENT,useValue:content},{provide:NB_WINDOW_CONTEXT,useValue:context},{provide:NbWindowConfig,useValue:config},{provide:NbWindowRef,useValue:windowRef}],parentInjector=config.viewContainerRef?config.viewContainerRef.injector:this.windowsContainerViewRef.injector,injector=core.zs3.create({parent:parentInjector,providers}),windowFactory=this.componentFactoryResolver.resolveComponentFactory(NbWindowComponent),ref=this.windowsContainerViewRef.createComponent(windowFactory,null,injector);return ref.instance.cfr=this.cfr,ref.changeDetectorRef.detectChanges(),ref}subscribeToEvents(windowRef){windowRef.config.closeOnBackdropClick&&this.overlayRef.backdropClick().subscribe(()=>windowRef.close()),windowRef.config.closeOnEsc&&this.overlayRef.keydownEvents().pipe((0,filter.h)(event=>27===event.keyCode)).subscribe(()=>windowRef.close()),windowRef.stateChange.subscribe(()=>this.checkAndUpdateOverlay()),windowRef.onClose.subscribe(()=>{this.openWindows.splice(this.openWindows.indexOf(windowRef),1),this.checkAndUpdateOverlay()})}checkAndUpdateOverlay(){const fullScreenWindows=this.openWindows.filter(w=>w.state===NbWindowState.FULL_SCREEN);fullScreenWindows.length>0?this.blockScrollStrategy.enable():this.blockScrollStrategy.disable(),fullScreenWindows.some(w=>w.config.hasBackdrop)?this.overlayRef.backdropElement.removeAttribute("hidden"):this.overlayRef.backdropElement.setAttribute("hidden","")}}__name(NbWindowService,"NbWindowService"),NbWindowService.\u0275fac=__name(function(t){return new(t||NbWindowService)(core.LFG(core._Vd),core.LFG(overlay_service.Pn),core.LFG(mapping.yV),core.LFG(block_scroll_strategy_adapter.h),core.LFG(NB_WINDOW_CONFIG),core.LFG(core._Vd),core.LFG(theme_options.qT))},"NbWindowService_Factory"),NbWindowService.\u0275prov=core.Yz7({token:NbWindowService,factory:NbWindowService.\u0275fac});class NbWindowModule{static forRoot(defaultConfig){return{ngModule:NbWindowModule,providers:[NbWindowService,{provide:NB_WINDOW_CONFIG,useValue:defaultConfig}]}}static forChild(defaultConfig){return{ngModule:NbWindowModule,providers:[NbWindowService,{provide:NB_WINDOW_CONFIG,useValue:defaultConfig}]}}}__name(NbWindowModule,"NbWindowModule"),NbWindowModule.\u0275fac=__name(function(t){return new(t||NbWindowModule)},"NbWindowModule_Factory"),NbWindowModule.\u0275mod=core.oAB({type:NbWindowModule}),NbWindowModule.\u0275inj=core.cJS({imports:[[common.ez,overlay_module.j,card_module.z,icon_module.K,button_module.T]]});var input_module=__webpack_require__(71147),checkbox_module=__webpack_require__(52313),router=__webpack_require__(10494);const template_window_component_c0=["contentTemplate"];function TemplateWindowComponent_ng_template_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p"),core._uU(1),core.qZA()),2&rf){const data_r2=ctx.$implicit;core.xp6(1),core.hij('Here is the text provided via config: "',data_r2.text,'"')}}__name(TemplateWindowComponent_ng_template_2_Template,"TemplateWindowComponent_ng_template_2_Template");class TemplateWindowComponent{constructor(windowService){this.windowService=windowService}openWindow(){this.windowService.open(this.contentTemplate,{title:"Window content from template",context:{text:"some text to pass into template"}})}}__name(TemplateWindowComponent,"TemplateWindowComponent"),TemplateWindowComponent.\u0275fac=__name(function(t){return new(t||TemplateWindowComponent)(core.Y36(NbWindowService))},"TemplateWindowComponent_Factory"),TemplateWindowComponent.\u0275cmp=core.Xpm({type:TemplateWindowComponent,selectors:[["ng-component"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(template_window_component_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.contentTemplate=_t.first)}},"TemplateWindowComponent_Query"),decls:4,vars:0,consts:[["nbButton","",3,"click"],["contentTemplate",""]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"button",0),core.NdJ("click",__name(function(){return ctx.openWindow()},"TemplateWindowComponent_Template_button_click_0_listener")),core._uU(1,"Open window"),core.qZA(),core.YNc(2,TemplateWindowComponent_ng_template_2_Template,2,1,"ng-template",null,1,core.W1O))},"TemplateWindowComponent_Template"),directives:[button_component.D],styles:["nb-layout-column{height:400px}  .form{display:flex;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}"]});var input_directive=__webpack_require__(12282);class FormComponent{constructor(windowRef){this.windowRef=windowRef}close(){this.windowRef.close()}}__name(FormComponent,"FormComponent"),FormComponent.\u0275fac=__name(function(t){return new(t||FormComponent)(core.Y36(NbWindowRef))},"FormComponent_Factory"),FormComponent.\u0275cmp=core.Xpm({type:FormComponent,selectors:[["ng-component"]],decls:7,vars:0,consts:[[1,"form"],["for","subject"],["nbInput","","id","subject","type","text"],["for","text",1,"text-label"],["nbInput","","id","text"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"form",0),core.TgZ(1,"label",1),core._uU(2,"Subject:"),core.qZA(),core._UZ(3,"input",2),core.TgZ(4,"label",3),core._uU(5,"Text:"),core.qZA(),core._UZ(6,"textarea",4),core.qZA())},"FormComponent_Template"),directives:[input_directive.h],encapsulation:2});class WindowShowcaseComponent{constructor(windowService){this.windowService=windowService}openWindow(){this.windowService.open(FormComponent,{title:"Window"})}}__name(WindowShowcaseComponent,"WindowShowcaseComponent"),WindowShowcaseComponent.\u0275fac=__name(function(t){return new(t||WindowShowcaseComponent)(core.Y36(NbWindowService))},"WindowShowcaseComponent_Factory"),WindowShowcaseComponent.\u0275cmp=core.Xpm({type:WindowShowcaseComponent,selectors:[["ng-component"]],decls:2,vars:0,consts:[["nbButton","",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"button",0),core.NdJ("click",__name(function(){return ctx.openWindow()},"WindowShowcaseComponent_Template_button_click_0_listener")),core._uU(1,"Open window"),core.qZA())},"WindowShowcaseComponent_Template"),directives:[button_component.D],styles:["nb-layout-column{height:400px}  .form{display:flex;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}"]});const windows_backdrop_component_c0=["escClose"],_c1=["disabledEsc"];function WindowsBackdropComponent_ng_template_4_Template(rf,ctx){1&rf&&core._uU(0," Disabled close on escape click. ")}function WindowsBackdropComponent_ng_template_6_Template(rf,ctx){1&rf&&core._uU(0," Click escape to close. ")}__name(WindowsBackdropComponent_ng_template_4_Template,"WindowsBackdropComponent_ng_template_4_Template"),__name(WindowsBackdropComponent_ng_template_6_Template,"WindowsBackdropComponent_ng_template_6_Template");class WindowsBackdropComponent{constructor(windowService){this.windowService=windowService}openWindowWithBackdrop(){this.windowService.open(this.escCloseTemplate,{title:"Window with backdrop",hasBackdrop:!0})}openWindowWithoutBackdrop(){this.windowService.open(this.disabledEscTemplate,{title:"Window without backdrop",hasBackdrop:!1,closeOnEsc:!1})}}__name(WindowsBackdropComponent,"WindowsBackdropComponent"),WindowsBackdropComponent.\u0275fac=__name(function(t){return new(t||WindowsBackdropComponent)(core.Y36(NbWindowService))},"WindowsBackdropComponent_Factory"),WindowsBackdropComponent.\u0275cmp=core.Xpm({type:WindowsBackdropComponent,selectors:[["ng-component"]],viewQuery:__name(function(rf,ctx){if(1&rf&&(core.Gf(windows_backdrop_component_c0,5,core.Rgc),core.Gf(_c1,5,core.Rgc)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.escCloseTemplate=_t.first),core.iGM(_t=core.CRH())&&(ctx.disabledEscTemplate=_t.first)}},"WindowsBackdropComponent_Query"),decls:8,vars:0,consts:[["nbButton","",3,"click"],["disabledEsc",""],["escClose",""]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"button",0),core.NdJ("click",__name(function(){return ctx.openWindowWithBackdrop()},"WindowsBackdropComponent_Template_button_click_0_listener")),core._uU(1,"Open window with backdrop"),core.qZA(),core.TgZ(2,"button",0),core.NdJ("click",__name(function(){return ctx.openWindowWithoutBackdrop()},"WindowsBackdropComponent_Template_button_click_2_listener")),core._uU(3,"Open window without backdrop"),core.qZA(),core.YNc(4,WindowsBackdropComponent_ng_template_4_Template,1,0,"ng-template",null,1,core.W1O),core.YNc(6,WindowsBackdropComponent_ng_template_6_Template,1,0,"ng-template",null,2,core.W1O))},"WindowsBackdropComponent_Template"),directives:[button_component.D],styles:["nb-layout-column{height:400px}  .form{display:flex;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}"]});var checkbox_component=__webpack_require__(59683);class WindowControlsComponent{constructor(windowService){this.windowService=windowService,this.minimize=!0,this.maximize=!0,this.fullScreen=!0}openWindow(){const buttonsConfig={minimize:this.minimize,maximize:this.maximize,fullScreen:this.fullScreen};this.windowService.open(FormComponent,{title:"Window",buttons:buttonsConfig})}}__name(WindowControlsComponent,"WindowControlsComponent"),WindowControlsComponent.\u0275fac=__name(function(t){return new(t||WindowControlsComponent)(core.Y36(NbWindowService))},"WindowControlsComponent_Factory"),WindowControlsComponent.\u0275cmp=core.Xpm({type:WindowControlsComponent,selectors:[["ng-component"]],decls:12,vars:3,consts:[[1,"subtitle","config-title"],[3,"checked","checkedChange"],["nbButton","",1,"open-window",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"nb-card"),core.TgZ(1,"nb-card-body"),core.TgZ(2,"p",0),core._uU(3,"Buttons config:"),core.qZA(),core.TgZ(4,"nb-checkbox",1),core.NdJ("checkedChange",__name(function($event){return ctx.minimize=$event},"WindowControlsComponent_Template_nb_checkbox_checkedChange_4_listener")),core._uU(5,"Minimize"),core.qZA(),core.TgZ(6,"nb-checkbox",1),core.NdJ("checkedChange",__name(function($event){return ctx.maximize=$event},"WindowControlsComponent_Template_nb_checkbox_checkedChange_6_listener")),core._uU(7,"Maximize"),core.qZA(),core.TgZ(8,"nb-checkbox",1),core.NdJ("checkedChange",__name(function($event){return ctx.fullScreen=$event},"WindowControlsComponent_Template_nb_checkbox_checkedChange_8_listener")),core._uU(9,"Full Screen"),core.qZA(),core.TgZ(10,"button",2),core.NdJ("click",__name(function(){return ctx.openWindow()},"WindowControlsComponent_Template_button_click_10_listener")),core._uU(11,"Open window"),core.qZA(),core.qZA(),core.qZA()),2&rf&&(core.xp6(4),core.Q6J("checked",ctx.minimize),core.xp6(2),core.Q6J("checked",ctx.maximize),core.xp6(2),core.Q6J("checked",ctx.fullScreen))},"WindowControlsComponent_Template"),directives:[card_component.As,card_component.yK,checkbox_component.N,button_component.D],styles:["nb-layout-column{height:400px}  .form{display:flex;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}",".config-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.25rem}nb-checkbox[_ngcontent-%COMP%]{display:block}.open-window[_ngcontent-%COMP%]{margin-top:1rem}"],changeDetection:0});const routes=[{path:"template-window.component",component:TemplateWindowComponent},{path:"window-showcase.component",component:WindowShowcaseComponent},{path:"windows-backdrop.component",component:WindowsBackdropComponent},{path:"window-controls.component",component:WindowControlsComponent}];class WindowRoutingModule{}__name(WindowRoutingModule,"WindowRoutingModule"),WindowRoutingModule.\u0275fac=__name(function(t){return new(t||WindowRoutingModule)},"WindowRoutingModule_Factory"),WindowRoutingModule.\u0275mod=core.oAB({type:WindowRoutingModule}),WindowRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});class WindowModule{}__name(WindowModule,"WindowModule"),WindowModule.\u0275fac=__name(function(t){return new(t||WindowModule)},"WindowModule_Factory"),WindowModule.\u0275mod=core.oAB({type:WindowModule}),WindowModule.\u0275inj=core.cJS({imports:[[NbWindowModule.forRoot(),button_module.T,input_module.n,checkbox_module.M,card_module.z,WindowRoutingModule]]})}};