"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=345,exports.ids=[345],exports.modules={50345:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{OAuth2PlaygroundModule:()=>OAuth2PlaygroundModule});var common=__webpack_require__(38583),fesm2015_forms=__webpack_require__(3679),http=__webpack_require__(91841),card_module=__webpack_require__(32937),layout_module=__webpack_require__(44265),auth_module=__webpack_require__(68729),oauth2_strategy=__webpack_require__(9814),oauth2_strategy_options=__webpack_require__(97501),router=__webpack_require__(10494),takeUntil=__webpack_require__(46782),Subject=__webpack_require__(79765),core=__webpack_require__(37716),auth_service=__webpack_require__(15798),layout_component=__webpack_require__(40646);class OAuth2CallbackComponent{constructor(authService,router2){this.authService=authService,this.router=router2,this.destroy$=new Subject.xQ,this.authService.authenticate("google").pipe((0,takeUntil.R)(this.destroy$)).subscribe(authResult=>{authResult.isSuccess()&&authResult.getRedirect()&&this.router.navigateByUrl(authResult.getRedirect())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}__name(OAuth2CallbackComponent,"OAuth2CallbackComponent"),OAuth2CallbackComponent.\u0275fac=__name(function(t){return new(t||OAuth2CallbackComponent)(core.Y36(auth_service._),core.Y36(router.F0))},"OAuth2CallbackComponent_Factory"),OAuth2CallbackComponent.\u0275cmp=core.Xpm({type:OAuth2CallbackComponent,selectors:[["nb-playground-oauth2-callback"]],decls:3,vars:0,template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"nb-layout"),core.TgZ(1,"nb-layout-column"),core._uU(2,"Authenticating..."),core.qZA(),core.qZA())},"OAuth2CallbackComponent_Template"),directives:[layout_component.Aq,layout_component.dP],encapsulation:2});var card_component=__webpack_require__(74743);function OAuth2LoginComponent_button_9_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"button",2),core.NdJ("click",__name(function(){return core.CHM(_r3),core.oxw().login()},"OAuth2LoginComponent_button_9_Template_button_click_0_listener")),core._uU(1,"Sign In with Google"),core.qZA()}}function OAuth2LoginComponent_button_10_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"button",3),core.NdJ("click",__name(function(){return core.CHM(_r5),core.oxw().logout()},"OAuth2LoginComponent_button_10_Template_button_click_0_listener")),core._uU(1,"Sign Out"),core.qZA()}}__name(OAuth2LoginComponent_button_9_Template,"OAuth2LoginComponent_button_9_Template"),__name(OAuth2LoginComponent_button_10_Template,"OAuth2LoginComponent_button_10_Template");class OAuth2LoginComponent{constructor(authService){this.authService=authService,this.destroy$=new Subject.xQ,this.authService.onTokenChange().pipe((0,takeUntil.R)(this.destroy$)).subscribe(token=>{this.token=null,token&&token.isValid()&&(this.token=token)})}login(){this.authService.authenticate("google").pipe((0,takeUntil.R)(this.destroy$)).subscribe(authResult=>{})}logout(){this.authService.logout("google").pipe((0,takeUntil.R)(this.destroy$)).subscribe(authResult=>{})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}__name(OAuth2LoginComponent,"OAuth2LoginComponent"),OAuth2LoginComponent.\u0275fac=__name(function(t){return new(t||OAuth2LoginComponent)(core.Y36(auth_service._))},"OAuth2LoginComponent_Factory"),OAuth2LoginComponent.\u0275cmp=core.Xpm({type:OAuth2LoginComponent,selectors:[["nb-playground-auth"]],decls:11,vars:6,consts:[["nbButton","","status","success",3,"click",4,"ngIf"],["nbButton","","status","warning",3,"click",4,"ngIf"],["nbButton","","status","success",3,"click"],["nbButton","","status","warning",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"nb-layout"),core.TgZ(1,"nb-layout-column"),core.TgZ(2,"nb-card"),core.TgZ(3,"nb-card-body"),core.TgZ(4,"p"),core._uU(5),core.qZA(),core.TgZ(6,"p"),core._uU(7),core.ALo(8,"json"),core.qZA(),core.YNc(9,OAuth2LoginComponent_button_9_Template,2,0,"button",0),core.YNc(10,OAuth2LoginComponent_button_10_Template,2,0,"button",1),core.qZA(),core.qZA(),core.qZA(),core.qZA()),2&rf&&(core.xp6(5),core.hij("Current User Authenticated: ",!!ctx.token,""),core.xp6(2),core.hij("Current User Token: ",core.lcZ(8,4,ctx.token),""),core.xp6(2),core.Q6J("ngIf",!ctx.token),core.xp6(1),core.Q6J("ngIf",ctx.token))},"OAuth2LoginComponent_Template"),directives:[layout_component.Aq,layout_component.dP,card_component.As,card_component.yK,common.O5],pipes:[common.Ts],encapsulation:2});const routes=[{path:"",component:OAuth2LoginComponent},{path:"callback",component:OAuth2CallbackComponent}];class Oauth2RoutingModule{}__name(Oauth2RoutingModule,"Oauth2RoutingModule"),Oauth2RoutingModule.\u0275fac=__name(function(t){return new(t||Oauth2RoutingModule)},"Oauth2RoutingModule_Factory"),Oauth2RoutingModule.\u0275mod=core.oAB({type:Oauth2RoutingModule}),Oauth2RoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});class OAuth2PlaygroundModule{}__name(OAuth2PlaygroundModule,"OAuth2PlaygroundModule"),OAuth2PlaygroundModule.\u0275fac=__name(function(t){return new(t||OAuth2PlaygroundModule)},"OAuth2PlaygroundModule_Factory"),OAuth2PlaygroundModule.\u0275mod=core.oAB({type:OAuth2PlaygroundModule}),OAuth2PlaygroundModule.\u0275inj=core.cJS({imports:[[common.ez,fesm2015_forms.u5,http.JF,auth_module.S.forRoot({strategies:[oauth2_strategy.F.setup({name:"google",clientId:"806751403568-03376bvlin9n3rhid0cahus6ei3lc69q.apps.googleusercontent.com",clientSecret:"",authorize:{endpoint:"https://accounts.google.com/o/oauth2/v2/auth",responseType:oauth2_strategy_options.aW.TOKEN,scope:"https://www.googleapis.com/auth/userinfo.profile",redirectUri:"https://akveo.github.io/nebular/example/oauth2/callback"},redirect:{success:"/example/oauth2"}})]}),card_module.z,layout_module.B,Oauth2RoutingModule]]})}};